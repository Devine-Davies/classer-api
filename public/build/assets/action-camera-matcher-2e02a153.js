let u={0:0,1:2,2:1,3:2,4:0,5:0,6:0,7:0,8:2,9:0,10:0};const G=(e,n)=>u[e]=n,x=e=>u[e],S=e=>x(e)!==void 0,L=()=>{let e=0;const n=document.querySelectorAll("[data-question-block-idx]"),s=document.querySelectorAll('[id^="form-question-block-"]');v(Object.entries(questionnaire.weights),u);const a=document.querySelector("[data-results]"),d=document.querySelector("[data-classer-billboard]"),g=document.querySelector("[data-submit]"),f=document.querySelector("[data-reset]"),p=document.querySelectorAll("[data-next-question]"),i=document.querySelectorAll("[data-previous-question]"),c=document.querySelectorAll("input[type=radio]");[...p,...i].forEach(r=>r.addEventListener("click",t=>{t.preventDefault();const o=r.getAttribute("data-next-question")!==null,m=o?e+1:e-1;if(o&&!S(e)){alert("Please select an answer before proceeding");return}l(m)})),g.addEventListener("click",r=>{r.preventDefault();const t=Object.entries(questionnaire.weights),o=v(t,u);h(o),E(u)}),c.forEach(r=>r.addEventListener("change",t=>{const o=parseInt(t.target.value);G(e,o)})),f.addEventListener("click",r=>{r.preventDefault(),u={},e=0,n.forEach(t=>t.classList.add("hidden")),s[e].classList.remove("hidden"),a.classList.add("hidden"),d.classList.add("hidden"),document.querySelectorAll("input[type=radio]").forEach(t=>{t.checked=!1})});const l=r=>{e=r,n.forEach((t,o)=>o===r?t.classList.remove("hidden"):t.classList.add("hidden"))},h=r=>{const t=Array.from({length:r.length});a.querySelector("ul").innerHTML=t.map((o,m)=>D(m)).join(""),setTimeout(()=>{a.querySelector("ul").innerHTML=r.map(b).join("");const o=a.querySelectorAll(".benefits-list");a.querySelectorAll("[data-toggle-open]").forEach(m=>{m.addEventListener("click",w=>{const A=w.target.getAttribute("data-toggle-open");o.forEach((y,k)=>k===parseInt(A)?y.classList.toggle("hidden"):y.classList.add("hidden"))})})},Math.floor(Math.random()*1e3)+1400),d.classList.remove("hidden"),a.classList.remove("hidden"),d.classList.remove("hidden"),n.forEach(o=>o.classList.add("hidden"))};s[e].classList.remove("hidden")};window.addEventListener("load",L);const v=(e,n)=>{const s=e.reduce((i,[c,l])=>{const h=l.map((t,o)=>t[n[o]]);if(h.includes("out"))return i;const r=h.reduce((t,o)=>t+o,0);return{...i,[c]:r}},{}),a=Object.entries(s),d=a.map(([,i])=>i),g=Math.max(...d),f=Math.min(...d);return a.map(([i,c])=>{const l=g!==f?(c-f)/(g-f)*100:0;return{key:i,value:c,percentage:l,recommendationKey:q(l),recommendation:P(l),color:I(l)}})},E=e=>{fetch("https://classermedia.com/api/site/actions-camera-matcher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:e})}).then(()=>{})},I=e=>e>80?"green":e>60?"orange":e>40?"yellow":"red",q=e=>e>80?"highly-recommended":e>50?"good-match":"might-like",P=e=>e>80?"Highly recommend!":e>60?"It's a good match!":"You might like it!",B=e=>`
    <button data-toggle-open="${e}" class="flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-500 pointer-events-none"
            fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>`,R=({key:e,recommendation:n})=>`<div class="flex-1 min-w-0">
        <p class="text-md font-bold text-gray-700 truncate dark:text-white">
            ${e}
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            ${n}
        </p>
    </div>`,O=e=>`<ul class="benefits-list hidden grid grid-cols-2">
        ${(J[e]||[]).map(s=>`
            <li class="flex items-center space-x-3 rtl:space-x-reverse">
                <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                </svg>
                <span>${s}</span>
            </li>
        `).join("")}
    </ul>`,b=(e,n,s=!0)=>`<li class="recommendation-item ${e.recommendationKey}">
    <div class="flex items-center space-x-4">
    <div class="indicator"></div>
        ${R(e)}
        ${s?B(n):""}
    </div>
    ${O(e.key)}
</li>`,D=e=>b({key:"Loading...",recommendation:"Just a moment",recommendationKey:"highly-recommended",color:"green"},e,!1),J={"GoPro 13":["Advanced stabilisation technology","Best low-light performance","Superior battery life"],"GoPro 12":["Great all-around camera","No GPS included","Versatile for any use"],"GoPro 11":["Reliable and durable","High performance","Solid performance"],"GoPro 10":["Reliable and durable","Great first camera","Solid performance"],"GoPro 9":["Great first camera","Good price point","Ideal for beginners"],"GoPro 8":["Budget-friendly choice","Compact and lightweight","Simple to use"],"GoPro 7":["Affordable action cam","Good entry-level option","Easy to operate"],"GoPro Max":[],"DJI Osmo Action 4":["Top-tier performance","Great for professionals","High-end features"],"DJI Osmo Action 3":["Excellent all-around camera","Versatile for any use","Strong value"],"DJI Osmo Pocket 3":["Compact and powerful","Ideal for vlogging","High performance"],"DJI Osmo Pocket 2":["Great first camera","Perfect for holidays","Budget-friendly choice"],"DJI Action 2 Dual-screen Combo":["Compact and versatile","Dual-screen convenience","Great for adventurers"],"DJI Action 2 Power Combo":["Lightweight and portable","Great battery life","Good for extended use"],"Insta360 GO 3":["Ultra-compact design","Easy to carry","Great for everyday use"],"Insta360 AcePro":["Advanced performance","Ideal for professionals","High-quality footage"],"Insta360 Ace":["Great all-around option","Perfect for enthusiasts","Solid feature set"],"Insta360 X3":["Versatile and powerful","Ideal for creative shots","Great for 360° footage"],"Insta360 X4":["Cutting-edge features for 360° footage","Perfect for immersive content","High-end performance"],"Akaso Brave 8":["Budget-friendly for beginners","Ideal for enthusiasts","Great performance"],"Akaso Brave 7":["Versatile and durable","Good for any use","Strong value"],"Akaso Brave 4":["Budget-friendly option","Easy to use","Great for beginners"],"Akaso V50X":["Affordable and reliable","Good all-around camera","Great for entry-level users"],"Akaso V50 Pro":["Advanced features","Great value for price","Suitable for intermediate users"],"Akaso EK7000":["Affordable action cam","Good first camera","Simple and intuitive"],"Akaso EK7000 Pro":["Good budget option","Easy setup and use","Ideal for beginners"],SJ4000:["Budget-friendly option","Simple to use","Good entry-level camera"],"SJ6 LEGEND":["Versatile and reliable","Good value for money","Ideal for beginners"],"SJ8 AIR":["Affordable and compact","Easy to operate","Suitable for casual users"],"SJ8 PRO":["High-end performance","Ideal for enthusiasts","Good 4K recording"],"SJ10 PRO":["Advanced features","Great for professionals","Reliable and durable"]};
