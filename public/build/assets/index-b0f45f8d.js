document.addEventListener("DOMContentLoaded",function(){grecaptcha.ready(function(){grecaptcha.execute("6LdNKLMpAAAAAFPilXVAY_0W7QTOEYkV6rgYZ6Yq",{action:"submit"}).then(function(e){document.querySelector("#form form").insertAdjacentHTML("beforeend",'<div class="hidden" ><input type="hidden" name="grc" value="'+e+'"></div>')})})});document.addEventListener("htmx:beforeRequest",e=>{document.querySelector(".error-message").classList.add("hidden"),document.querySelector("input[type=submit]").classList.add("pointer-events-none")});document.addEventListener("htmx:afterRequest",e=>{JSON.parse(e.detail.xhr.response),setTimeout(()=>{if(e.detail.successful!=!0){document.querySelector("input[type=submit]").classList.remove("pointer-events-none");const t=document.querySelector(".error-message");t.innerHTML="Something went wrong, please try again.",t.classList.remove("hidden");return}else{document.getElementById("form").classList.add("hidden");const t=e.detail.xhr.getResponseHeader("x-token");o(t)}},500)});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".eye-show-password").forEach(t=>{t.addEventListener("click",s=>{const n=t.previousElementSibling,r=n.getAttribute("type")==="password"?"text":"password";n.setAttribute("type",r)})})});const o=e=>{fetch(pageUrl+"/api/admin/stats",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then(t=>{t.json().then(s=>{const n=document.getElementById("stats-template").innerHTML,r=document.getElementById("stats-container"),d=Object.entries(s.data).map(([a,i])=>c(n,{title:a,stat:i}));document.getElementById("form").classList.add("hidden"),r.innerHTML=d.join(""),setTimeout(()=>o(e),9e5)})})},c=(e,t)=>u(e,t),u=(e,t)=>e.replace(/\${(.*?)}/g,(s,n)=>t[n.trim()]);
