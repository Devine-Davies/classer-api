let m={};const x=(e,o)=>m[e]=o,L=e=>m[e],E=e=>L(e)!==void 0,q=()=>{let e=0;const o=document.querySelectorAll("[data-question-block-idx]"),a=document.querySelectorAll('[id^="form-question-block-"]'),t=document.querySelector("[data-results]"),d=document.querySelector("[data-classer-billboard]"),p=document.querySelector("[data-submit]"),g=document.querySelector("[data-reset]"),l=document.querySelectorAll("[data-next-question]"),c=document.querySelectorAll("[data-previous-question]"),i=document.querySelectorAll("input[type=radio]"),v=Object.entries(questionnaire.weights),y=w(v,m);console.log(y),[...l,...c].forEach(r=>r.addEventListener("click",n=>{n.preventDefault();const s=r.getAttribute("data-next-question")!==null,h=s?e+1:e-1;if(s&&!E(e)){alert("Please select an answer before proceeding");return}u(h)})),p.addEventListener("click",r=>{r.preventDefault();const n=Object.entries(questionnaire.weights),s=w(n,m);f(s),I(m)}),i.forEach(r=>r.addEventListener("change",n=>{const s=parseInt(n.target.value);x(e,s)})),g.addEventListener("click",r=>{r.preventDefault(),m={},e=0,o.forEach(n=>n.classList.add("hidden")),a[e].classList.remove("hidden"),t.classList.add("hidden"),d.classList.add("hidden"),document.querySelectorAll("input[type=radio]").forEach(n=>{n.checked=!1})});const u=r=>{e=r,o.forEach((n,s)=>s===r?n.classList.remove("hidden"):n.classList.add("hidden"))},f=r=>{const n=Array.from({length:r.length});t.querySelector("ul").innerHTML=n.map((s,h)=>j(h)).join(""),setTimeout(()=>{t.querySelector("ul").innerHTML=r.map(A).join("");const s=t.querySelectorAll(".benefits-list");t.querySelectorAll("[data-toggle-open]").forEach(h=>{h.addEventListener("click",G=>{const k=G.target.getAttribute("data-toggle-open");s.forEach((b,S)=>S===parseInt(k)?b.classList.toggle("hidden"):b.classList.add("hidden"))})})},Math.floor(Math.random()*1e3)+1400),d.classList.remove("hidden"),t.classList.remove("hidden"),d.classList.remove("hidden"),o.forEach(s=>s.classList.add("hidden"))};a[e].classList.remove("hidden")};window.addEventListener("load",q);const w=(e,o)=>{const a=e.reduce((l,[c,i])=>{const y=i.map((u,f)=>u[o[f]]).reduce((u,f)=>f=="out"?u-1e6:u+f,0);return{...l,[c]:y}},{}),t=Object.entries(a),d=t.map(([,l])=>l),p=Math.max(...d),g=Math.min(...d);return t.map(([l,c])=>{const i=p!==g?(c-g)/(p-g)*100:0;return{key:l,value:c,percentage:i,recommendationKey:B(i),recommendation:R(i),color:P(i)}})},I=e=>{fetch("https://classermedia.com/api/site/actions-camera-matcher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:e})}).then(t=>t.json()).then(t=>{console.log("Success:",t)}).catch(t=>{console.error("Error:",t)})},P=e=>e>80?"green":e>60?"orange":e>40?"yellow":"red",B=e=>e>80?"highly-recommended":e>60?"good-match":e>40?"might-like":"not-recommended",R=e=>e>80?"Highly recommend!":e>60?"It's a good match!":e>40?"You might like it!":"Not recommended!",O=e=>`
    <button data-toggle-open="${e}" class="flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-500 pointer-events-none"
            fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>`,D=({key:e,recommendation:o})=>`<div class="flex-1 min-w-0">
        <p class="text-md font-bold text-gray-700 truncate dark:text-white">
            ${e}
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            ${o}
        </p>
    </div>`,J=e=>{const o=M[e]||[];return console.log(e),`<ul class="benefits-list hidden grid grid-cols-2">
        ${o.map(a=>`
            <li class="flex items-center space-x-3 rtl:space-x-reverse">
                <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                </svg>
                <span>${a}</span>
            </li>
        `).join("")}
    </ul>`},A=(e,o,a=!0)=>`<li class="recommendation-item ${e.recommendationKey}">
    <div class="flex items-center space-x-4">
    <div class="indicator"></div>
        ${D(e)}
        ${a?O(o):""}
    </div>
    ${J(e.key)}
</li>`,j=e=>A({key:"Loading...",recommendation:"Just a moment",recommendationKey:"highly-recommended",color:"green"},e,!1),M={"GoPro 13":["Advanced stabilisation technology","Best low-light performance","Superior battery life"],"GoPro 12":["Great all-around camera","No GPS included","Versatile for any use"],"GoPro 11":["Reliable and durable","High performance","Solid performance"],"GoPro 10":["Reliable and durable","Great first camera","Solid performance"],"GoPro 9":["Great first camera","Good price point","Ideal for beginners"],"GoPro 8":["Budget-friendly choice","Compact and lightweight","Simple to use"],"GoPro 7":["Affordable action cam","Good entry-level option","Easy to operate"],"GoPro Max":[],"DJI Osmo Action 4":["Top-tier performance","Great for professionals","High-end features"],"DJI Osmo Action 3":["Excellent all-around camera","Versatile for any use","Strong value"],"DJI Osmo Pocket 3":["Compact and powerful","Ideal for vlogging","High performance"],"DJI Osmo Pocket 2":["Great first camera","Perfect for holidays","Budget-friendly choice"],"DJI Action 2 Dual-screen Combo":["Compact and versatile","Dual-screen convenience","Great for adventurers"],"DJI Action 2 Power Combo":["Lightweight and portable","Great battery life","Good for extended use"],"Insta360 GO 3":["Ultra-compact design","Easy to carry","Great for everyday use"],"Insta360 AcePro":["Advanced performance","Ideal for professionals","High-quality footage"],"Insta360 Ace":["Great all-around option","Perfect for enthusiasts","Solid feature set"],"Insta360 X3":["Versatile and powerful","Ideal for creative shots","Great for 360° footage"],"Insta360 X4":["Cutting-edge features for 360° footage","Perfect for immersive content","High-end performance"],"Akaso Brave 8":["Budget-friendly for beginners","Ideal for enthusiasts","Great performance"],"Akaso Brave 7":["Versatile and durable","Good for any use","Strong value"],"Akaso Brave 4":["Budget-friendly option","Easy to use","Great for beginners"],"Akaso V50X":["Affordable and reliable","Good all-around camera","Great for entry-level users"],"Akaso V50 Pro":["Advanced features","Great value for price","Suitable for intermediate users"],"Akaso EK7000":["Affordable action cam","Good first camera","Simple and intuitive"],"Akaso EK7000 Pro":["Good budget option","Easy setup and use","Ideal for beginners"],SJ4000:["Budget-friendly option","Simple to use","Good entry-level camera"],"SJ6 LEGEND":["Versatile and reliable","Good value for money","Ideal for beginners"],"SJ8 AIR":["Affordable and compact","Easy to operate","Suitable for casual users"],"SJ8 PRO":["High-end performance","Ideal for enthusiasts","Good 4K recording"],"SJ10 PRO":["Advanced features","Great for professionals","Reliable and durable"]};
