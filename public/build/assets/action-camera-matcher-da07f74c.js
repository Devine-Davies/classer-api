let f={};const x=(e,o)=>f[e]=o,L=e=>f[e],E=e=>L(e)!==void 0,q=()=>{let e=0;const o=document.querySelectorAll("[data-question-block-idx]"),a=document.querySelectorAll('[id^="form-question-block-"]'),r=document.querySelector("[data-results]"),c=document.querySelector("[data-classer-billboard]"),h=document.querySelector("[data-submit]"),m=document.querySelector("[data-reset]"),p=document.querySelectorAll("[data-next-question]"),l=document.querySelectorAll("[data-previous-question]"),d=document.querySelectorAll("input[type=radio]"),i=Object.entries(questionnaire.weights),v=w(i,f);console.log(v),[...p,...l].forEach(t=>t.addEventListener("click",n=>{n.preventDefault();const s=t.getAttribute("data-next-question")!==null,g=s?e+1:e-1;if(s&&!E(e)){alert("Please select an answer before proceeding");return}y(g)})),h.addEventListener("click",t=>{t.preventDefault();const n=Object.entries(questionnaire.weights),s=w(n,f);u(s),I(f)}),d.forEach(t=>t.addEventListener("change",n=>{const s=parseInt(n.target.value);x(e,s)})),m.addEventListener("click",t=>{t.preventDefault(),f={},e=0,o.forEach(n=>n.classList.add("hidden")),a[e].classList.remove("hidden"),r.classList.add("hidden"),c.classList.add("hidden"),document.querySelectorAll("input[type=radio]").forEach(n=>{n.checked=!1})});const y=t=>{e=t,o.forEach((n,s)=>s===t?n.classList.remove("hidden"):n.classList.add("hidden"))},u=t=>{const n=Array.from({length:t.length});r.querySelector("ul").innerHTML=n.map((s,g)=>j(g)).join(""),setTimeout(()=>{r.querySelector("ul").innerHTML=t.map(A).join("");const s=r.querySelectorAll(".benefits-list");r.querySelectorAll("[data-toggle-open]").forEach(g=>{g.addEventListener("click",G=>{const k=G.target.getAttribute("data-toggle-open");s.forEach((b,S)=>S===parseInt(k)?b.classList.toggle("hidden"):b.classList.add("hidden"))})})},Math.floor(Math.random()*1e3)+1400),c.classList.remove("hidden"),r.classList.remove("hidden"),c.classList.remove("hidden"),o.forEach(s=>s.classList.add("hidden"))};a[e].classList.remove("hidden")};window.addEventListener("load",q);const w=(e,o)=>{console.log("weights",e),console.log("answers",o);const a=e.reduce((l,[d,i])=>{const y=i.map((u,t)=>u[o[t]]).reduce((u,t)=>t=="out"?u-1e6:u+t,0);return{...l,[d]:y}},{}),r=Object.entries(a),c=r.map(([,l])=>l),h=Math.max(...c),m=Math.min(...c),p=r.map(([l,d])=>{const i=h!==m?(d-m)/(h-m)*100:0;return{key:l,value:d,percentage:i,recommendationKey:B(i),recommendation:R(i),color:P(i)}});return console.log("results",p),result},I=e=>{fetch("https://classermedia.com/api/site/actions-camera-matcher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:e})}).then(r=>r.json()).then(r=>{console.log("Success:",r)}).catch(r=>{console.error("Error:",r)})},P=e=>e>80?"green":e>60?"orange":e>40?"yellow":"red",B=e=>e>80?"highly-recommended":e>60?"good-match":e>40?"might-like":"not-recommended",R=e=>e>80?"Highly recommend!":e>60?"It's a good match!":e>40?"You might like it!":"Not recommended!",O=e=>`
    <button data-toggle-open="${e}" class="flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-500 pointer-events-none"
            fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>`,D=({key:e,recommendation:o})=>`<div class="flex-1 min-w-0">
        <p class="text-md font-bold text-gray-700 truncate dark:text-white">
            ${e}
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            ${o}
        </p>
    </div>`,J=e=>{const o=M[e]||[];return console.log(e),`<ul class="benefits-list hidden grid grid-cols-2">
        ${o.map(a=>`
            <li class="flex items-center space-x-3 rtl:space-x-reverse">
                <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                </svg>
                <span>${a}</span>
            </li>
        `).join("")}
    </ul>`},A=(e,o,a=!0)=>`<li class="recommendation-item ${e.recommendationKey}">
    <div class="flex items-center space-x-4">
    <div class="indicator"></div>
        ${D(e)}
        ${a?O(o):""}
    </div>
    ${J(e.key)}
</li>`,j=e=>A({key:"Loading...",recommendation:"Just a moment",recommendationKey:"highly-recommended",color:"green"},e,!1),M={"GoPro 13":["Advanced stabilisation technology","Best low-light performance","Superior battery life"],"GoPro 12":["Great all-around camera","No GPS included","Versatile for any use"],"GoPro 11":["Reliable and durable","High performance","Solid performance"],"GoPro 10":["Reliable and durable","Great first camera","Solid performance"],"GoPro 9":["Great first camera","Good price point","Ideal for beginners"],"GoPro 8":["Budget-friendly choice","Compact and lightweight","Simple to use"],"GoPro 7":["Affordable action cam","Good entry-level option","Easy to operate"],"GoPro Max":[],"DJI Osmo Action 4":["Top-tier performance","Great for professionals","High-end features"],"DJI Osmo Action 3":["Excellent all-around camera","Versatile for any use","Strong value"],"DJI Osmo Pocket 3":["Compact and powerful","Ideal for vlogging","High performance"],"DJI Osmo Pocket 2":["Great first camera","Perfect for holidays","Budget-friendly choice"],"DJI Action 2 Dual-screen Combo":["Compact and versatile","Dual-screen convenience","Great for adventurers"],"DJI Action 2 Power Combo":["Lightweight and portable","Great battery life","Good for extended use"],"Insta360 GO 3":["Ultra-compact design","Easy to carry","Great for everyday use"],"Insta360 AcePro":["Advanced performance","Ideal for professionals","High-quality footage"],"Insta360 Ace":["Great all-around option","Perfect for enthusiasts","Solid feature set"],"Insta360 X3":["Versatile and powerful","Ideal for creative shots","Great for 360° footage"],"Insta360 X4":["Cutting-edge features for 360° footage","Perfect for immersive content","High-end performance"],"Akaso Brave 8":["Budget-friendly for beginners","Ideal for enthusiasts","Great performance"],"Akaso Brave 7":["Versatile and durable","Good for any use","Strong value"],"Akaso Brave 4":["Budget-friendly option","Easy to use","Great for beginners"],"Akaso V50X":["Affordable and reliable","Good all-around camera","Great for entry-level users"],"Akaso V50 Pro":["Advanced features","Great value for price","Suitable for intermediate users"],"Akaso EK7000":["Affordable action cam","Good first camera","Simple and intuitive"],"Akaso EK7000 Pro":["Good budget option","Easy setup and use","Ideal for beginners"],SJ4000:["Budget-friendly option","Simple to use","Good entry-level camera"],"SJ6 LEGEND":["Versatile and reliable","Good value for money","Ideal for beginners"],"SJ8 AIR":["Affordable and compact","Easy to operate","Suitable for casual users"],"SJ8 PRO":["High-end performance","Ideal for enthusiasts","Good 4K recording"],"SJ10 PRO":["Advanced features","Great for professionals","Reliable and durable"]};
